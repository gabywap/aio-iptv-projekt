<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0d1117">
    
    <title>Kreator Konfiguracji | AIO-IPTV.pl</title>
    <meta name="description" content="Kreator plik√≥w konfiguracyjnych dla tuner√≥w Enigma2. Wygeneruj gotowe pliki dla swojego dekodera.">
    <meta name="author" content="Pawe≈Ç Pawe≈Çek">
    
    <link rel="icon" type="image/png" href="pliki/logo.png">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    <style>
        .wizard-step {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .wizard-step.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .wizard-progress {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }
        
        .wizard-progress::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: #30363d;
            z-index: 1;
        }
        
        .wizard-progress::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            height: 2px;
            background: #58a6ff;
            z-index: 2;
            transition: width 0.3s ease;
        }
        
        .wizard-step-indicator {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #21262d;
            border: 2px solid #30363d;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #8b949e;
            position: relative;
            z-index: 3;
            transition: all 0.3s ease;
        }
        
        .wizard-step-indicator.active {
            background: #58a6ff;
            border-color: #58a6ff;
            color: white;
        }
        
        .wizard-step-indicator.completed {
            background: #238636;
            border-color: #238636;
            color: white;
        }
        
        .wizard-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .config-option {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            background: #21262d;
            border: 1px solid #30363d;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
        }
        
        .config-option:hover {
            border-color: #58a6ff;
            background: rgba(88, 166, 255, 0.1);
        }
        
        .config-option.selected {
            background: #238636;
            border-color: #3fb950;
            color: white;
        }
        
        .config-preview {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 6px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            color: #e2e8f0;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .download-section {
            text-align: center;
            padding: 20px;
            background: rgba(35, 134, 54, 0.1);
            border: 1px solid #238636;
            border-radius: 6px;
            margin-top: 20px;
        }
        
        body.light .config-option {
            background: #f3f4f6;
            border-color: #e5e7eb;
            color: #111827;
        }
        
        body.light .config-option:hover {
            border-color: #2563eb;
            background: rgba(37, 99, 235, 0.1);
        }
        
        body.light .config-option.selected {
            background: #22c55e;
            border-color: #16a34a;
            color: white;
        }
        
        body.light .config-preview {
            background: #f9fafb;
            border-color: #e5e7eb;
            color: #111827;
        }
    </style>
</head>
<body class="fixed-header">
    <button onclick="topFunction()" id="topBtn" title="Wr√≥ƒá na g√≥rƒô">‚¨ÜÔ∏è</button>

    <header class="mobile-fixed">
        <div style="text-align:center; line-height: 1.2;">
            <img src="https://github.com/OliOli2013/aio-iptv-projekt/raw/main/pliki/logo.png" alt="Logo AIO-IPTV" class="site-logo">
            <p style="margin: 4px 0 0; font-size: 0.95rem;">Kreator Konfiguracji Enigma2</p>
        </div>
        
        <div class="nav-buttons">
            <a href="index.html" class="nav-btn">üè† Strona g≈Ç√≥wna</a>
            <button id="themeToggle" class="nav-btn" type="button">üåû</button>
        </div>
    </header>

    <div class="container">
        <div class="card full-width" data-aos="fade-up">
            <h2>üîß Kreator Konfiguracji</h2>
            <p>Wygeneruj gotowe pliki konfiguracyjne dla swojego tunera Enigma2. W kilku krokach stworzysz kompletnƒÖ konfiguracjƒô.</p>
            
            <div class="wizard-progress" id="wizard-progress">
                <div class="wizard-step-indicator active" data-step="1">1</div>
                <div class="wizard-step-indicator" data-step="2">2</div>
                <div class="wizard-step-indicator" data-step="3">3</div>
                <div class="wizard-step-indicator" data-step="4">4</div>
                <div class="wizard-step-indicator" data-step="5">5</div>
            </div>
            
            <!-- Krok 1: Wyb√≥r tunera -->
            <div class="wizard-step active" id="step-1">
                <h3>Krok 1: Wybierz sw√≥j tuner</h3>
                <p>Wybierz model tunera, dla kt√≥rego chcesz wygenerowaƒá konfiguracjƒô.</p>
                
                <div class="config-options">
                    <div class="config-option" data-tuner="zgemma-h9s">
                        <strong>Zgemma H9S / H9.2S</strong><br>
                        <small>Popularny, tani, dla poczƒÖtkujƒÖcych</small>
                    </div>
                    <div class="config-option" data-tuner="vu-duo4k">
                        <strong>VU+ Duo 4K / Uno 4K</strong><br>
                        <small>Wysoka jako≈õƒá, dual tuner</small>
                    </div>
                    <div class="config-option" data-tuner="octagon-sf8008">
                        <strong>Octagon SF8008</strong><br>
                        <small>Dobry stosunek jako≈õci do ceny</small>
                    </div>
                    <div class="config-option" data-tuner="mutant-hd51">
                        <strong>Mutant HD51</strong><br>
                        <small>Stabilny, dobre wsparcie</small>
                    </div>
                    <div class="config-option" data-tuner="inny">
                        <strong>Inny tuner</strong><br>
                        <small>Konfiguracja uniwersalna</small>
                    </div>
                </div>
            </div>
            
            <!-- Krok 2: Wyb√≥r image -->
            <div class="wizard-step" id="step-2">
                <h3>Krok 2: Wybierz system (Image)</h3>
                <p>Wybierz preferowane oprogramowanie dla swojego tunera.</p>
                
                <div class="config-options">
                    <div class="config-option" data-image="openatv">
                        <strong>OpenATV</strong><br>
                        <small>Najpopularniejszy, mn√≥stwo funkcji, czƒôste aktualizacje</small>
                    </div>
                    <div class="config-option" data-image="openpli">
                        <strong>OpenPLi</strong><br>
                        <small>Stabilny, lekki, dla puryst√≥w</small>
                    </div>
                    <div class="config-option" data-image="openvix">
                        <strong>OpenViX</strong><br>
                        <small>Popularny w UK, ≈Çadne GUI</small>
                    </div>
                    <div class="config-option" data-image="egami">
                        <strong>Egami</strong><br>
                        <small>Niszowy, unikalny wyglƒÖd</small>
                    </div>
                </div>
            </div>
            
            <!-- Krok 3: Konfiguracja sieci -->
            <div class="wizard-step" id="step-3">
                <h3>Krok 3: Konfiguracja sieci</h3>
                <p>Skonfiguruj podstawowe ustawienia sieci.</p>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div>
                        <label for="network-type">Typ po≈ÇƒÖczenia:</label>
                        <select id="network-type" style="width: 100%; padding: 10px; border-radius: 4px; border: 1px solid #30363d; background: #0d1117; color: #e2e8f0;">
                            <option value="dhcp">DHCP (automatyczne IP)</option>
                            <option value="static">Statyczne IP</option>
                        </select>
                    </div>
                    <div>
                        <label for="dns-prefer">Preferowany DNS:</label>
                        <select id="dns-prefer" style="width: 100%; padding: 10px; border-radius: 4px; border: 1px solid #30363d; background: #0d1117; color: #e2e8f0;">
                            <option value="google">Google (8.8.8.8)</option>
                            <option value="cloudflare">Cloudflare (1.1.1.1)</option>
                            <option value="quad9">Quad9 (9.9.9.9)</option>
                            <option value="auto">Automatyczny</option>
                        </select>
                    </div>
                </div>
                
                <div id="static-ip-config" style="display: none; background: rgba(48, 54, 61, 0.3); padding: 15px; border-radius: 6px; margin-top: 15px;">
                    <h4>Statyczne IP (zaawansowane)</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <label for="ip-address">Adres IP:</label>
                            <input type="text" id="ip-address" placeholder="192.168.1.100" style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #30363d; background: #0d1117; color: #e2e8f0;">
                        </div>
                        <div>
                            <label for="subnet-mask">Maska podsieci:</label>
                            <input type="text" id="subnet-mask" placeholder="255.255.255.0" style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #30363d; background: #0d1117; color: #e2e8f0;">
                        </div>
                        <div>
                            <label for="gateway">Brama:</label>
                            <input type="text" id="gateway" placeholder="192.168.1.1" style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #30363d; background: #0d1117; color: #e2e8f0;">
                        </div>
                        <div>
                            <label for="dns1">DNS 1:</label>
                            <input type="text" id="dns1" placeholder="8.8.8.8" style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #30363d; background: #0d1117; color: #e2e8f0;">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Krok 4: Konfiguracja satelit -->
            <div class="wizard-step" id="step-4">
                <h3>Krok 4: Konfiguracja satelit</h3>
                <p>Wybierz satelity, kt√≥re chcesz odbieraƒá.</p>
                
                <div class="config-options">
                    <div class="config-option" data-sat="13e">
                        <strong>HotBird 13¬∞E</strong><br>
                        <small>Polskie kana≈Çy, najpopularniejszy w Polsce</small>
                    </div>
                    <div class="config-option" data-sat="19e">
                        <strong>Astra 19.2¬∞E</strong><br>
                        <small>Niemieckie, francuskie kana≈Çy</small>
                    </div>
                    <div class="config-option" data-sat="23e">
                        <strong>Astra 23.5¬∞E</strong><br>
                        <small>Czeskie, s≈Çowackie kana≈Çy</small>
                    </div>
                    <div class="config-option" data-sat="multisat">
                        <strong>Konfiguracja wielu satelit</strong><br>
                        <small>DiSEqC, USALS - zaawansowane</small>
                    </div>
                </div>
            </div>
            
            <!-- Krok 5: Podsumowanie -->
            <div class="wizard-step" id="step-5">
                <h3>Krok 5: Podsumowanie i pobranie</h3>
                <p>Oto Twoja konfiguracja. Mo≈ºesz pobraƒá gotowe pliki lub skopiowaƒá komendy.</p>
                
                <div class="config-preview" id="config-preview">
                    <!-- Dynamicznie generowana konfiguracja -->
                </div>
                
                <div class="download-section">
                    <h4>üì• Pobierz pliki</h4>
                    <p>Gotowe pliki konfiguracyjne zosta≈Çy przygotowane dla Ciebie.</p>
                    <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 15px;">
                        <button class="nav-btn" onclick="downloadConfig('network')">üì° Sieƒá</button>
                        <button class="nav-btn" onclick="downloadConfig('satellites')">üõ∞Ô∏è Satelity</button>
                        <button class="nav-btn" onclick="downloadConfig('bouquets')">üì∫ Bukiet</button>
                        <button class="nav-btn" onclick="downloadAll()">üì¶ Wszystko</button>
                    </div>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: rgba(48, 54, 61, 0.3); border-radius: 6px; border-left: 3px solid #d29922;">
                    <h4>üìã Instrukcja instalacji</h4>
                    <ol style="margin: 10px 0; padding-left: 20px;">
                        <li>Pobierz wybrane pliki konfiguracyjne</li>
                        <li>Skopiuj je na pendrive lub dysk zewnƒôtrzny</li>
                        <li>Po≈ÇƒÖcz siƒô z tunerem przez FTP (WinSCP, FileZilla)</li>
                        <li>Skopiuj pliki do odpowiednich katalog√≥w (/etc/enigma2/)</li>
                        <li>Zrestartuj GUI lub tuner</li>
                    </ol>
                </div>
            </div>
            
            <div class="wizard-buttons">
                <button class="nav-btn" id="prev-btn" onclick="previousStep()" style="display: none;">‚¨ÖÔ∏è Wstecz</button>
                <button class="nav-btn" id="next-btn" onclick="nextStep()">Dalej ‚û°Ô∏è</button>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 AIO-IPTV.pl | Kreator konfiguracji Enigma2</p>
        <p>Generator plik√≥w konfiguracyjnych dla tuner√≥w satelitarnych</p>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="script.js"></script>
    <script>
        let currentStep = 1;
        let wizardData = {};
        
        // Network type change handler
        document.getElementById('network-type').addEventListener('change', function() {
            const staticConfig = document.getElementById('static-ip-config');
            if (this.value === 'static') {
                staticConfig.style.display = 'block';
            } else {
                staticConfig.style.display = 'none';
            }
        });
        
        function nextStep() {
            if (!validateCurrentStep()) return;
            
            if (currentStep < 5) {
                saveCurrentStepData();
                currentStep++;
                showStep(currentStep);
                updateProgress();
            }
        }
        
        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
                updateProgress();
            }
        }
        
        function showStep(step) {
            document.querySelectorAll('.wizard-step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step-${step}`).classList.add('active');
            
            // Update buttons
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            prevBtn.style.display = step > 1 ? 'block' : 'none';
            
            if (step === 5) {
                nextBtn.style.display = 'none';
                generateConfig();
            } else {
                nextBtn.style.display = 'block';
                nextBtn.textContent = step === 5 ? 'Zako≈Ñcz' : 'Dalej ‚û°Ô∏è';
            }
        }
        
        function updateProgress() {
            const indicators = document.querySelectorAll('.wizard-step-indicator');
            const progressBar = document.querySelector('.wizard-progress');
            
            indicators.forEach((indicator, index) => {
                const stepNumber = index + 1;
                indicator.classList.remove('active', 'completed');
                
                if (stepNumber < currentStep) {
                    indicator.classList.add('completed');
                } else if (stepNumber === currentStep) {
                    indicator.classList.add('active');
                }
            });
            
            // Update progress bar
            const progress = ((currentStep - 1) / 4) * 100;
            progressBar.style.setProperty('--progress-width', progress + '%');
        }
        
        function validateCurrentStep() {
            switch (currentStep) {
                case 1:
                    const selectedTuner = document.querySelector('[data-tuner].selected');
                    if (!selectedTuner) {
                        alert('Wybierz tuner!');
                        return false;
                    }
                    break;
                case 2:
                    const selectedImage = document.querySelector('[data-image].selected');
                    if (!selectedImage) {
                        alert('Wybierz image!');
                        return false;
                    }
                    break;
                case 3:
                    // Network configuration is optional
                    break;
                case 4:
                    const selectedSat = document.querySelector('[data-sat].selected');
                    if (!selectedSat) {
                        alert('Wybierz satelitƒô!');
                        return false;
                    }
                    break;
            }
            return true;
        }
        
        function saveCurrentStepData() {
            switch (currentStep) {
                case 1:
                    wizardData.tuner = document.querySelector('[data-tuner].selected').dataset.tuner;
                    break;
                case 2:
                    wizardData.image = document.querySelector('[data-image].selected').dataset.image;
                    break;
                case 3:
                    wizardData.network = {
                        type: document.getElementById('network-type').value,
                        dns: document.getElementById('dns-prefer').value
                    };
                    if (wizardData.network.type === 'static') {
                        wizardData.network.static = {
                            ip: document.getElementById('ip-address').value,
                            subnet: document.getElementById('subnet-mask').value,
                            gateway: document.getElementById('gateway').value,
                            dns1: document.getElementById('dns1').value
                        };
                    }
                    break;
                case 4:
                    wizardData.satellites = Array.from(document.querySelectorAll('[data-sat].selected')).map(el => el.dataset.sat);
                    break;
            }
        }
        
        function generateConfig() {
            const configPreview = document.getElementById('config-preview');
            
            let config = `# Konfiguracja dla tunera: ${wizardData.tuner}\n`;
            config += `# System: ${wizardData.image}\n`;
            config += `# Wygenerowano: ${new Date().toLocaleString('pl-PL')}\n\n`;
            
            // Network configuration
            config += `# Konfiguracja sieci\n`;
            if (wizardData.network.type === 'dhcp') {
                config += `iface eth0 inet dhcp\n`;
            } else {
                config += `iface eth0 inet static\n`;
                config += `    address ${wizardData.network.static.ip || '192.168.1.100'}\n`;
                config += `    netmask ${wizardData.network.static.subnet || '255.255.255.0'}\n`;
                config += `    gateway ${wizardData.network.static.gateway || '192.168.1.1'}\n`;
                config += `    dns-nameservers ${wizardData.network.static.dns1 || '8.8.8.8'}\n`;
            }
            config += `\n`;
            
            // DNS configuration
            const dnsServers = {
                'google': '8.8.8.8',
                'cloudflare': '1.1.1.1',
                'quad9': '9.9.9.9',
                'auto': ''
            };
            
            if (wizardData.network.dns !== 'auto') {
                config += `# DNS: ${wizardData.network.dns}\n`;
                config += `echo "nameserver ${dnsServers[wizardData.network.dns]}" > /etc/resolv.conf\n\n`;
            }
            
            // Satellite configuration
            config += `# Konfiguracja satelit\n`;
            if (wizardData.satellites.includes('13e')) {
                config += `# HotBird 13¬∞E\n`;
                config += `# - Polskie kana≈Çy FTA\n`;
                config += `# - Platformy cyfrowe\n\n`;
            }
            if (wizardData.satellites.includes('19e')) {
                config += `# Astra 19.2¬∞E\n`;
                config += `# - Niemieckie kana≈Çy\n`;
                config += `# - Francuskie kana≈Çy\n\n`;
            }
            if (wizardData.satellites.includes('23e')) {
                config += `# Astra 23.5¬∞E\n`;
                config += `# - Czeskie kana≈Çy\n`;
                config += `# - S≈Çowackie kana≈Çy\n\n`;
            }
            if (wizardData.satellites.includes('multisat')) {
                config += `# Konfiguracja wielu satelit\n`;
                config += `# - DiSEqC 1.0/1.1\n`;
                config += `# - USALS (dla anten motorowych)\n\n`;
            }
            
            // Installation commands
            config += `# Komendy instalacyjne\n`;
            config += `# 1. Zaktualizuj listy pakiet√≥w\n`;
            config += `opkg update\n\n`;
            
            config += `# 2. Zainstaluj podstawowe narzƒôdzia\n`;
            config += `opkg install enigma2-plugin-extensions-panelaio\n`;
            config += `opkg install enigma2-plugin-extensions-iptvdream\n\n`;
            
            config += `# 3. Zrestartuj GUI\n`;
            config += `init 4 && sleep 2 && init 3\n`;
            
            configPreview.textContent = config;
        }
        
        function downloadConfig(type) {
            const config = document.getElementById('config-preview').textContent;
            const blob = new Blob([config], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `enigma2-config-${wizardData.tuner}-${type}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        function downloadAll() {
            downloadConfig('complete');
        }
        
        // Option selection handlers
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('config-option')) {
                const parent = e.target.parentElement;
                const isMultiple = parent.classList.contains('multiple');
                
                if (!isMultiple) {
                    parent.querySelectorAll('.config-option').forEach(opt => opt.classList.remove('selected'));
                }
                
                e.target.classList.toggle('selected');
            }
        });
        
        // Initialize
        showStep(1);
        updateProgress();
        
        // Initialize AOS
        AOS.init();
    </script>
</body>
</html>